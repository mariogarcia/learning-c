apply plugin: "c"

model {
    components {
        // libraries
        ascii(NativeLibrarySpec)
        pointers(NativeLibrarySpec)

        // executables
        main(NativeExecutableSpec) {
            sources {
                c.lib library: 'ascii'
                c.lib library: 'pointers'
            }
        }
    }
}

model {
    binaries {
        all {
            // Define toolchain-specific compiler and linker options
            if (toolChain in Gcc) {
                cCompiler.args "-O2"
                linker.args "-Xlinker", "-S"
            }
        }
    }
}
